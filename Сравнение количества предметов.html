<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–¢—Ä–µ–Ω–∞–∂–µ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤</title>
<style>
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}
body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.1)), url('img/f1.jpg') center/cover no-repeat;
            z-index: -2;
        }
        body::after {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, rgba(110,142,251,0.8), rgba(167,119,227,0.3));
            z-index: -1;
        }
.container {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    max-width: 800px;
    width: 100%;
}

h1 {
    text-align: center;
    color: #333;
    margin-bottom: 30px;
    font-size: 2.2em;
}

.settings {
    background: rgba(248, 249, 250, 0.8);
    border-radius: 15px;
    padding: 25px;
    margin-bottom: 30px;
    border: 2px solid #e9ecef;
}

.settings h2 {
    color: #495057;
    margin-bottom: 20px;
    text-align: center;
}

.settings-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    flex-wrap: wrap;
    gap: 10px;
}

.settings-row label {
    font-weight: 600;
    color: #495057;
    min-width: 200px;
}

.settings-row input {
    padding: 10px 15px;
    border: 2px solid #dee2e6;
    border-radius: 10px;
    font-size: 16px;
    width: 100px;
    text-align: center;
}

.emoji-selection {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
    gap: 10px;
    margin: 20px 0;
}

.emoji-option {
    font-size: 2em;
    cursor: pointer;
    padding: 10px;
    border: 3px solid #dee2e6;
    border-radius: 10px;
    transition: all 0.3s;
    background: white;
    text-align: center;
}

.emoji-option:hover {
    transform: scale(1.1);
    border-color: #667eea;
}

.emoji-option.selected {
    border-color: #4CAF50;
    background: #e8f5e8;
    transform: scale(1.1);
}

.start-btn {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
    border: none;
    padding: 15px 40px;
    font-size: 18px;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s;
    display: block;
    margin: 20px auto 0;
    font-weight: 600;
}

.start-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
}

.game-area {
    display: none;
}

.comparison-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px;
    gap: 20px;
}

.canvas-container {
    flex: 1;
    background: white;
    border: 3px solid #343a40;
    border-radius: 15px;
    padding: 15px;
    min-height: 200px;
    max-height: 250px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
}

.comparison-sign {
    font-size: 4em;
    font-weight: bold;
    color: #495057;
    min-width: 80px;
    text-align: center;
}

.answers {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}

.answer-btn {
    background: #667eea;
    color: white;
    border: none;
    padding: 20px 30px;
    font-size: 2.5em;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s;
    min-width: 80px;
}

.answer-btn:hover {
    transform: scale(1.1);
    background: #5a6fd8;
}

.answer-btn.correct {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    transform: scale(1.1);
}

.answer-btn.wrong {
    background: linear-gradient(135deg, #f44336, #d32f2f);
    transform: scale(0.9);
}

.stats {
    display: flex;
    justify-content: space-around;
    background: #f8f9fa;
    padding: 20px;
    border-radius: 15px;
    margin-bottom: 20px;
    font-weight: 600;
    color: #495057;
}

.home-btn {
    background: #6c757d;
    color: white;
    border: none;
    padding: 12px 30px;
    font-size: 16px;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s;
    display: block;
    margin: 0 auto;
}

.home-btn:hover {
    background: #5a6268;
    transform: translateY(-2px);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .container {
        padding: 20px;
        margin: 10px;
    }
    
    .comparison-container {
        flex-direction: column;
        gap: 20px;
    }
    
    .comparison-sign {
        font-size: 3em;
        min-width: auto;
        order: -1;
    }
    
    .canvas-container {
        min-height: 180px;
        max-height: 200px;
        padding: 10px;
    }
    
    .answer-btn {
        padding: 15px 25px;
        font-size: 2em;
        min-width: 70px;
    }
    
    .emoji-selection {
        grid-template-columns: repeat(auto-fit, minmax(45px, 1fr));
    }
    
    .emoji-option {
        font-size: 1.7em;
        padding: 8px;
    }
}

@media (max-width: 480px) {
    h1 {
        font-size: 1.8em;
    }
    
    .settings {
        padding: 15px;
    }
    
    .settings-row {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .settings-row label {
        min-width: auto;
        margin-bottom: 5px;
    }
    
    .canvas-container {
        min-height: 150px;
        max-height: 180px;
        padding: 8px;
    }
    
    .answer-btn {
        padding: 12px 20px;
        font-size: 1.8em;
        min-width: 60px;
    }
    
    .stats {
        flex-direction: column;
        gap: 10px;
        text-align: center;
    }
}
</style>
</head>
<body>
<div class="container">
    <h1>üéØ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤</h1>
    
    <div id="settings" class="settings">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        
        <div class="settings-row">
            <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤:</label>
            <input type="number" id="minCount" value="3" min="1" max="50">
        </div>
        
        <div class="settings-row">
            <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤:</label>
            <input type="number" id="maxCount" value="15" min="2" max="100">
        </div>
        
        <div class="settings-row">
            <label>–í—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –∏–≥—Ä—ã:</label>
        </div>
        
        <div class="emoji-selection" id="emojiSelection">
            <!-- Emojis will be added by JavaScript -->
        </div>
        
        <button class="start-btn" id="startBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    </div>
    
    <div id="gameArea" class="game-area">
        <div class="comparison-container">
            <div class="canvas-container" id="leftCanvas">
                <canvas id="leftCanvasElement"></canvas>
            </div>
            
            <div class="comparison-sign" id="comparisonSign">?</div>
            
            <div class="canvas-container" id="rightCanvas">
                <canvas id="rightCanvasElement"></canvas>
            </div>
        </div>
        
        <div class="answers">
            <button class="answer-btn" data-answer="<">&#60;</button>
            <button class="answer-btn" data-answer="=">=</button>
            <button class="answer-btn" data-answer=">">&#62;</button>
        </div>
        
        <div class="stats">
            <span>–ü—Ä–∞–≤–∏–ª—å–Ω–æ: <span id="correctCount">0</span></span>
            <span>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: <span id="wrongCount">0</span></span>
            <span>–í—Å–µ–≥–æ: <span id="totalCount">0</span></span>
        </div>
        
        <button class="home-btn" id="homeBtn">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º</button>
    </div>
</div>

<script>
// –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–º–æ–¥–∑–∏
const availableEmojis = ['üéÑ', 'üçâ', 'üçã', 'üçç', 'üçì', 'üçÖ', 'üçÑ', 'üå∏', 'üå¥', 'üçÄ', 'üåü', 'üíõ', 'üíú'];
let selectedEmojis = [...availableEmojis];
let minCount = 3;
let maxCount = 15;
let leftCount = 0;
let rightCount = 0;
let correctAnswers = 0;
let wrongAnswers = 0;
let totalAnswers = 0;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–º–æ–¥–∑–∏ –≤—ã–±–æ—Ä–∞
const emojiSelection = document.getElementById('emojiSelection');
availableEmojis.forEach(emoji => {
    const emojiOption = document.createElement('div');
    emojiOption.className = 'emoji-option selected';
    emojiOption.textContent = emoji;
    emojiOption.dataset.emoji = emoji;
    emojiOption.onclick = () => {
        emojiOption.classList.toggle('selected');
        updateSelectedEmojis();
    };
    emojiSelection.appendChild(emojiOption);
});

function updateSelectedEmojis() {
    selectedEmojis = Array.from(document.querySelectorAll('.emoji-option.selected'))
        .map(option => option.dataset.emoji);
}

// –ö–∞–Ω–≤–∞—Å—ã
const leftCanvas = document.getElementById('leftCanvasElement');
const rightCanvas = document.getElementById('rightCanvasElement');
const ctxLeft = leftCanvas.getContext('2d');
const ctxRight = rightCanvas.getContext('2d');

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–∞–Ω–≤–∞—Å–æ–≤
function setupCanvases() {
    const container = document.querySelector('.canvas-container');
    const containerWidth = container.offsetWidth - 30; // –£—á–∏—Ç—ã–≤–∞–µ–º padding
    const containerHeight = container.offsetHeight - 30;
    
    const size = Math.min(containerWidth, containerHeight, 250); // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
    
    leftCanvas.width = size;
    leftCanvas.height = size;
    rightCanvas.width = size;
    rightCanvas.height = size;
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —ç–º–æ–¥–∑–∏
function getRandomEmoji() {
    return selectedEmojis[Math.floor(Math.random() * selectedEmojis.length)];
}

// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏
function drawEmojis(ctx, count, canvas) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    const emoji = getRandomEmoji();
    const size = Math.min(canvas.width, canvas.height) * 0.12;
    const padding = size;
    
    const availableWidth = canvas.width - 2 * padding;
    const availableHeight = canvas.height - 2 * padding;
    
    ctx.font = `${size}px Arial`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    
    // –ú–∞—Å—Å–∏–≤ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–Ω—è—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
    const occupiedPositions = [];
    const minDistance = size * 1.2; // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —ç–º–æ–¥–∑–∏
    
    for (let i = 0; i < count; i++) {
        let attempts = 0;
        let x, y;
        let positionValid = false;
        
        // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –≤–∞–ª–∏–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
        while (attempts < 100 && !positionValid) {
            x = padding + Math.random() * availableWidth;
            y = padding + Math.random() * availableHeight;
            
            positionValid = true;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –¥—Ä—É–≥–∏—Ö —ç–º–æ–¥–∑–∏
            for (const pos of occupiedPositions) {
                const distance = Math.sqrt((x - pos.x) ** 2 + (y - pos.y) ** 2);
                if (distance < minDistance) {
                    positionValid = false;
                    break;
                }
            }
            
            attempts++;
        }
        
        // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤–∞–ª–∏–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª—É—á–∞–π–Ω—É—é
        if (!positionValid) {
            x = padding + Math.random() * availableWidth;
            y = padding + Math.random() * availableHeight;
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –≤ —Ä–∞–∑–º–µ—Ä
        const randomSize = size * (0.9 + Math.random() * 0.2);
        ctx.font = `${randomSize}px Arial`;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à–æ–π –ø–æ–≤–æ—Ä–æ—Ç
        ctx.save();
        ctx.translate(x, y);
        ctx.rotate((Math.random() - 0.5) * 0.3); // –ü–æ–≤–æ—Ä–æ—Ç ¬±15 –≥—Ä–∞–¥—É—Å–æ–≤
        ctx.fillText(emoji, 0, 0);
        ctx.restore();
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é
        occupiedPositions.push({ x, y });
    }
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
function generateQuestion() {
    minCount = parseInt(document.getElementById('minCount').value) || 3;
    maxCount = parseInt(document.getElementById('maxCount').value) || 15;
    
    // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ minCount < maxCount
    if (minCount >= maxCount) {
        maxCount = minCount + 1;
        document.getElementById('maxCount').value = maxCount;
    }
    
    leftCount = Math.floor(Math.random() * (maxCount - minCount + 1)) + minCount;
    rightCount = Math.floor(Math.random() * (maxCount - minCount + 1)) + minCount;
    
    // –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —ç–º–æ–¥–∑–∏
    setupCanvases();
    drawEmojis(ctxLeft, leftCount, leftCanvas);
    drawEmojis(ctxRight, rightCount, rightCanvas);
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫
    document.querySelectorAll('.answer-btn').forEach(btn => {
        btn.classList.remove('correct', 'wrong');
    });
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
function checkAnswer(selectedAnswer) {
    let correctAnswer;
    if (leftCount < rightCount) correctAnswer = '<';
    else if (leftCount > rightCount) correctAnswer = '>';
    else correctAnswer = '=';
    
    const isCorrect = selectedAnswer === correctAnswer;
    
    if (isCorrect) {
        correctAnswers++;
    } else {
        wrongAnswers++;
    }
    totalAnswers++;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    document.getElementById('correctCount').textContent = correctAnswers;
    document.getElementById('wrongCount').textContent = wrongAnswers;
    document.getElementById('totalCount').textContent = totalAnswers;
    
    // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
    const selectedBtn = document.querySelector(`[data-answer="${selectedAnswer}"]`);
    const correctBtn = document.querySelector(`[data-answer="${correctAnswer}"]`);
    
    selectedBtn.classList.add(isCorrect ? 'correct' : 'wrong');
    if (!isCorrect) {
        correctBtn.classList.add('correct');
    }
    
    // –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
    setTimeout(generateQuestion, 1500);
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
document.getElementById('startBtn').onclick = () => {
    if (selectedEmojis.length === 0) {
        alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —ç–º–æ–¥–∑–∏!');
        return;
    }
    
    document.getElementById('settings').style.display = 'none';
    document.getElementById('gameArea').style.display = 'block';
    
    correctAnswers = 0;
    wrongAnswers = 0;
    totalAnswers = 0;
    
    document.getElementById('correctCount').textContent = '0';
    document.getElementById('wrongCount').textContent = '0';
    document.getElementById('totalCount').textContent = '0';
    
    generateQuestion();
};

document.getElementById('homeBtn').onclick = () => {
    document.getElementById('gameArea').style.display = 'none';
    document.getElementById('settings').style.display = 'block';
};

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤
document.querySelectorAll('.answer-btn').forEach(btn => {
    btn.onclick = () => {
        if (!btn.classList.contains('correct') && !btn.classList.contains('wrong')) {
            checkAnswer(btn.dataset.answer);
        }
    };
});

// –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
window.addEventListener('resize', () => {
    if (document.getElementById('gameArea').style.display === 'block') {
        setupCanvases();
        drawEmojis(ctxLeft, leftCount, leftCanvas);
        drawEmojis(ctxRight, rightCount, rightCanvas);
    }
});

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
setupCanvases();
</script>
</body>
</html>