<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>basche</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
        }
		 /* –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ–º */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.1)), /* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ */
            url('f1.jpg') center/cover no-repeat; /* –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
        z-index: -2;
    }

    /* –ü–æ–≤–µ—Ä—Ö —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–∏–º –≤–∞—à –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é */
    body::after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(110, 142, 251, 0.8), rgba(167, 119, 227, 0.3));
        z-index: -1;
    }

        .container {
    max-width: 800px;
    width: 100%;
    background-color: rgba(222, 158, 255, 0.85);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
    padding: 25px;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.18);
    text-align: center;
			margin: 200px;
        }

        h1 {
            text-align: center;
            color: #ffcc00;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .settings {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .setting-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        label {
            font-weight: bold;
            margin-right: 10px;
        }

        input, select, button {
            padding: 10px 15px;
            border-radius: 50px;
            border: none;
            font-size: 16px;
        }

        button {
            background: linear-gradient(to right, #ff8a00, #e52e71);
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            margin-top: 10px;
			margin-bottom: 15px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .game-area {
            display: none;
            flex-direction: column;
            align-items: center;
			background: rgba(0, 0, 0, 0.2);
        }

        .stones-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
            min-height: 100px;
        }

        .stone {
        width: 60px;
        height: 60px;
        background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'><text x='18' y='26' font-size='24' text-anchor='middle' dominant-baseline='middle'>üíé</text></svg>") center/cover no-repeat;
        transition: all 0.3s;
    }

        .stone.taken {
        opacity: 0.3;
        transform: scale(0.7);
        filter: grayscale(80%);
    }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .controls button {
            width: 60px;
        }

        .message {
    font-size: 18px;
    font-weight: bold;
    margin: 20px 0;
    text-align: center;
    min-height: 27px;
    color: #F8FF00;
        }

        .win {
            color: #4caf50;
        }

        .lose {
            color: #f44336;
        }

        .computer-move {
            color: #F8FF00;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            font-size: 16px;
        }

        @media (max-width: 600px) {
            .stone {
                width: 30px;
                height: 30px;
            }
            
            .controls button {
                width: 50px;
            }
        }
		 /* –°—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" */
        .back-button {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            font-size: 24px;
            border-radius: 50%;
            text-decoration: none;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: none;
        }

        .back-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
	
    <div class="container">		
        <h1>–ò–≥—Ä–∞ –ë–∞—à–µ  üíé <a href="index.html" class="back-button">‚Üê</a></h1>
        <h2>–ó–∞–±–µ—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã</h2>
        <div class="settings" id="settings">
            <div class="setting-group">
                <label for="totalStones">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–Ω–µ–π:</label>
                <input type="number" id="totalStones" min="5" max="50" value="15">
            </div>
            
            <div class="setting-group">
                <label for="maxTake">–ú–∞–∫—Å–∏–º—É–º –∑–∞ —Ö–æ–¥:</label>
                <input type="number" id="maxTake" min="1" max="10" value="3">
            </div>
            
            <div class="setting-group">
                <label for="firstPlayer">–ü–µ—Ä–≤—ã–π —Ö–æ–¥:</label>
                <select id="firstPlayer">
                    <option value="computer">–ö–æ–º–ø—å—é—Ç–µ—Ä</option>
                    <option value="player">–ò–≥—Ä–æ–∫</option>
                </select>
            </div>
            
            <div class="setting-group">
                <label for="difficulty">–°–ª–æ–∂–Ω–æ—Å—Ç—å:</label>
                <select id="difficulty">
                    <option value="easy">–õ–µ–≥–∫–∞—è</option>
                    <option value="medium" selected>–°—Ä–µ–¥–Ω—è—è</option>
                    <option value="hard">–°–ª–æ–∂–Ω–∞—è</option>
                </select>
            </div>
            
            <button id="startGame">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        </div>
        
        <div class="game-area" id="gameArea">
            <div class="message" id="message"><strong style="color: #FFED00">–ö–æ–º–ø—å—é—Ç–µ—Ä –≤–∑—è–ª 3 –∫–∞–º–Ω–µ–π</strong></div>
<div class="stones-container" id="stonesContainer"></div>
            
            <div class="controls" id="playerControls">
                <!-- –ö–Ω–æ–ø–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            
            <div class="stats">
                <div class="message"> –û—Å—Ç–∞–ª–æ—Å—å –∫–∞–º–Ω–µ–π:   <span id="stonesLeft">0</span></div>
                <div class="message">&nbsp; &nbsp; &nbsp;–í–∞—à —Ö–æ–¥:   <span id="playerMove">0</span></div>
                <div class="message">&nbsp; &nbsp; –•–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:   <span id="computerMove">0</span></div>
            </div>            
            <button id="newGame">–ù–æ–≤–∞—è –∏–≥—Ä–∞<br>
            </button>
        </div>
</div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const settingsDiv = document.getElementById('settings');
        const gameAreaDiv = document.getElementById('gameArea');
        const stonesContainer = document.getElementById('stonesContainer');
        const playerControls = document.getElementById('playerControls');
        const messageDiv = document.getElementById('message');
        const stonesLeftSpan = document.getElementById('stonesLeft');
        const playerMoveSpan = document.getElementById('playerMove');
        const computerMoveSpan = document.getElementById('computerMove');
        const startGameBtn = document.getElementById('startGame');
        const newGameBtn = document.getElementById('newGame');
        
        // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã
        let totalStones = 15;
        let maxTake = 3;
        let firstPlayer = 'computer';
        let difficulty = 'medium';
        let stonesRemaining = 0;
        let gameActive = false;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        startGameBtn.addEventListener('click', startGame);
        newGameBtn.addEventListener('click', () => {
            gameAreaDiv.style.display = 'none';
            settingsDiv.style.display = 'flex';
        });
        
        function startGame() {
            // –ü–æ–ª—É—á–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            totalStones = parseInt(document.getElementById('totalStones').value);
            maxTake = parseInt(document.getElementById('maxTake').value);
            firstPlayer = document.getElementById('firstPlayer').value;
            difficulty = document.getElementById('difficulty').value;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞
            if (totalStones < maxTake + 1) {
                alert('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–Ω–µ–π –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤–∑—è—Ç–∏—è –∑–∞ —Ö–æ–¥!');
                return;
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
            stonesRemaining = totalStones;
            gameActive = true;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            settingsDiv.style.display = 'none';
            gameAreaDiv.style.display = 'flex';
            messageDiv.textContent = '';
            messageDiv.className = 'message';
            updateStonesDisplay();
            updateControls();
            updateStats();
            
            // –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Ö–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
            if (firstPlayer === 'computer') {
                setTimeout(computerTurn, 1000);
            }
        }
        
        function updateStonesDisplay() {
            stonesContainer.innerHTML = '';
            stonesLeftSpan.textContent = stonesRemaining;
            
            for (let i = 0; i < totalStones; i++) {
                const stone = document.createElement('div');
                stone.className = 'stone';
                if (i >= stonesRemaining) {
                    stone.classList.add('taken');
                }
                stonesContainer.appendChild(stone);
            }
        }
        
        function updateControls() {
            playerControls.innerHTML = '';
            
            if (!gameActive || (firstPlayer === 'computer' && stonesRemaining === totalStones)) {
                return;
            }
            
            const maxPossibleTake = Math.min(maxTake, stonesRemaining);
            
            for (let i = 1; i <= maxPossibleTake; i++) {
                const btn = document.createElement('button');
                btn.textContent = i;
                btn.addEventListener('click', () => playerTurn(i));
                playerControls.appendChild(btn);
            }
        }
        
        function updateStats() {
            stonesLeftSpan.textContent = stonesRemaining;
        }
        
        function playerTurn(take) {
            if (!gameActive) return;
            
            stonesRemaining -= take;
            playerMoveSpan.textContent = take;
            updateStonesDisplay();
            updateStats();
            
            if (stonesRemaining <= 0) {
                endGame('player');
                return;
            }
            
            updateControls();
            setTimeout(computerTurn, 1000);
        }
        
        function computerTurn() {
            if (!gameActive) return;
            
            let take;
            
            if (difficulty === 'easy') {
                // –°–ª—É—á–∞–π–Ω—ã–π —Ö–æ–¥
                take = Math.min(Math.floor(Math.random() * maxTake) + 1, stonesRemaining);
            } else if (difficulty === 'hard') {
                // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
                const remainder = stonesRemaining % (maxTake + 1);
                take = remainder === 0 ? Math.min(maxTake, stonesRemaining) : remainder;
            } else {
                // –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å - —Å–º–µ—Å—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏
                if (Math.random() > 0.3) {
                    const remainder = stonesRemaining % (maxTake + 1);
                    take = remainder === 0 ? Math.min(maxTake, stonesRemaining) : remainder;
                } else {
                    take = Math.min(Math.floor(Math.random() * maxTake) + 1, stonesRemaining);
                }
            }
            
            stonesRemaining -= take;
            computerMoveSpan.textContent = take;
            
            messageDiv.textContent = `–ö–æ–º–ø—å—é—Ç–µ—Ä –≤–∑—è–ª ${take} –∫–∞–º–Ω–µ–π`;
            messageDiv.className = 'message computer-move';
            
            updateStonesDisplay();
            updateStats();
            
            if (stonesRemaining <= 0) {
                endGame('computer');
                return;
            }
            
            updateControls();
        }
        
        function endGame(winner) {
            gameActive = false;
            playerControls.innerHTML = '';
            
            if (winner === 'player') {
                messageDiv.textContent = '–í—ã –≤–∑—è–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–º–µ–Ω—å! –í—ã –ø–æ–±–µ–¥–∏–ª–∏!';
                messageDiv.className = 'message win';
            } else {
                messageDiv.textContent = '–ö–æ–º–ø—å—é—Ç–µ—Ä –≤–∑—è–ª –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–º–µ–Ω—å! –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!';
                messageDiv.className = 'message lose';
            }
        }
    </script>
</body>
</html>